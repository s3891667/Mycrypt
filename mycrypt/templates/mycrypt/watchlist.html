<!DOCTYPE html>
<html lang="en">
  <head>
    {% load static %}
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>watchlist</title>

    <link rel="stylesheet" href="../../static/mycrypt/bootstrap.css" />
    <link rel="stylesheet" href="../../static/mycrypt/style2.css" />
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-dark navbar-dark fixed-top">
      <div class="container">
        <a href="#" class="navbar-brand">
          <img
            src="../../static/mycrypt/img/logo.png"
            style="max-width: 30px"
            alt="logo"
          />
          mycrypt</a
        >

        <button
          class="navbar-toggler"
          data-bs-toggle="collapse"
          data-bs-target="#navmenu"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navmenu">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="#">Cryptocurrencies</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="learn.html">Learn</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-light" href="#">Watchlist</a>
            </li>
          </ul>
        </div>

        <div
          class="btn-group-vertical"
          role="group"
          aria-label="Vertical button group"
        >
          <button type="button" class="btn btn-light">Login</button>
          <button type="button" class="btn btn-light">Register</button>
        </div>
      </div>
    </nav>

    <section class="p-5">
      <div class="container table-bordered table-responsive">

        <table class="table table-hover">
          <caption class="caption-top">
            watchlist
          </caption>
          
          <thead>
            <tr>
              <th scope="col">Like</th>
              <th scope="col">#</th>
              <th scope="col">Coin</th>
              <th scope="col">Price</th>
              <th scope="col">Price changed</th>
            </tr>
          </thead>
          
          {% for data in icon %}
          <tbody>
            <tr>
              <td>
                <div class="heart-like-button"></div>
              </td>
              <td>
                    <img src="{{data.image}}" width="25px">
                  </td>
                  <td>
                    <a href="{% url 'mycrypt:coins' coin_name=data.name %}">
                      {{data.symbol}}
                      <!-- <span onclick="myfunc(this)" >{{data.symbol}}</span> -->
                    </a>
                    </td>
                    <td>{{data.current_price}}</td>
                    {% if period == "24h"%}
                    <td>{{data.price_change_percentage_24h_in_currency}}</td>
                    {% elif period == "7d"%}
                    <td>{{data.price_change_percentage_7d_in_currency}}</td>
                    {% elif period == "14d"%}
                    <td>{{data.price_change_percentage_14d_in_currency}}</td>
                    {% endif %} 
            </tr>
          </tbody>
          {% endfor %}
        </table>
      </div>
    </section>
    
    {% endblock %}

    <footer class="p-5 bg-dark text-white text-center">
      <div class="container">
        <p class="lead">Copyright &copy; mycrypt 2022</p>
      </div>
    </footer>
    <script>
      $(document).ready(function () {
        $("#TRawMaterialStorageTable").bootstrapTable("resetView", {
          height: 349,
        });
      });
    </script>

    <script>
            const button = document.querySelector(".heart-like-button");

      button.addEventListener("click", () => {
        if (button.classList.contains("liked")) {
          button.classList.remove("liked");
        } else {
          button.classList.add("liked");
        }
      });
    </script>

    <script src="../../static/mycrypt/bootstrap.bundle.js"></script>
  </body>
</html>
